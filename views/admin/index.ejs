
<div id="admin" class="page">
    <ul class="nav nav-tabs">
        <li id="mgmt-overview-tab" class="active"><a href="#/overview">Overview</a></li>
        <li id="mgmt-users-tab"><a href="#/users">Accounts</a></li>
        <li id="mgmt-events-tab"><a href="#/events">Logs</a></li>
        <li id="mgmt-cms-tab"><a href="#/cms">Templates</a></li>
        <li id="mgmt-actions-tab"><a href="#/actions">Configuration</a></li>
        <!--<li id="mgmt-messaging-tab"><a href="#/messaging">Messaging Configuration</a></li>-->
    </ul>
    <div class="tab-content fullpos">
        <div class="tab-pane clearfix active" id="mgmt-overview">
        </div>
        <div class="tab-pane clearfix" id="mgmt-users">
            <h3>Accounts</h3>
            <div class="view-container"></div>
        </div>
        <div class="tab-pane clearfix" id="mgmt-user-details">
            <a href="#/users" class="glyphicon glyphicon-arrow-left"></a><h3 class="inline"> | Account Information</h3>
            <div id="mgmt-user-user-details"></div>
            <!--<h3>Magnet Message Apps</h3>-->
            <!--<div id="mmxapp-list-container"></div>-->
            <!--<div class="buttons hidden">-->
                <!--<div class="buttons-section">-->
                    <!--<button did="deactivate-user" type="button" class="btn btn-primary <% if(model.activated !== true){ %>hidden<% } %>">Deactivate User</button>-->
                    <!--<button did="activate-user" type="button" class="btn btn-primary <% if(model.activated === true){ %>hidden<% } %>">Activate User</button>-->
                    <!--<% if(model.userType == 'guest'){ %>-->
                    <!--<button did="approve-user" type="button" class="btn btn-primary">Approve User</button>-->
                    <!--<% } %>-->
                    <!--<% if(model.userType == 'approved'){ %>-->
                    <!--<button did="resend-registration=email" type="button" class="btn btn-primary">Resend Registration Email</button>-->
                    <!--<% } %>-->
                <!--</div>-->
            <!--</div>-->
        </div>
        <div class="tab-pane clearfix" id="mgmt-events">
            <div class="admin-configuration-container"></div>
            <div id="mgmt-events-list" class="listview"></div>
        </div>
        <div class="tab-pane clearfix" id="mgmt-cms">
            <h3>Email Templates</h3>
            <div class="row-fluid">
                <div id="" class="col-md-3">
                    <h5>Templates</h5>
                    <div id="cms-menu"></div>
                </div>
                <div class="col-md-9">
                    <h5>
                        Editor  <span id="cms-content-title-span"></span>
                    </h5>
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <!--<div id="cms-actions">-->
                                <!--<button did="edit" class="cms-button btn btn-primary">Edit Content</button>-->
                                <!--<button did="save" class="cms-editing-button btn btn-primary" style="display:none">Save Updates</button>-->
                                <!--<button did="preview" class="cms-editing-button btn btn-primary" style="display:none">Preview</button>-->
                                <!--<button did="cancel" class="cms-editing-button btn btn-default" style="display:none">Cancel</button>-->
                            <!--</div>-->
                            <div class="buttons">
                                <div class="buttons-section">
                                    <div did="readonly" class="btn-group" data-toggle="buttons">
                                        <span class="cms-edit glyphicon bluetxt glyphicon-pencil disableable"></span>
                                    </div>
                                    <div class="btn-group btn-toggle" did="edittype">
                                        <button class="btn btn-sm disabled btn-primary active" did="preview" type="button">Preview</button>
                                        <button class="btn btn-sm disabled btn-default" did="code" type="button">Code</button>
                                    </div>
                                    <div did="readwrite" class="btn-group" data-toggle="buttons">
                                        <span did="save" class="cms-save glyphicon greentxt glyphicon-ok-circle disabled disableable"></span>
                                        <span did="cancel" class="cms-canceledit glyphicon redtxt glyphicon-remove-circle disabled disableable"></span>
                                    </div>
                                </div>
                                <div class="loading buttons-section" style="display:none">
                                    Loading.. Please Wait.. <img src="../images/ajax-loader-sm.gif" />
                                </div>
                            </div>
                        </div>
                        <div class="panel-body">
                            <div id="cms-content">
                                <div id="cms-editable-section" style="display:none"></div>
                                <iframe id="cms-preview"></iframe>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="tab-pane clearfix" id="mgmt-actions">
            <!--<button class="admin-config-reset-btn btn btn-primary pull-right">Reset</button>-->
            <h3>Configuration</h3>
            <div class="alert alert-info" role="alert">
                <strong>Note:</strong> Certain changes made to the configuration below will initiate a restart of the server.
            </div>
            <div class="admin-configuration-container"></div>
        </div>
        <div class="tab-pane clearfix" id="mgmt-messaging">
            <h3>Magnet Message Configuration</h3>
            <div class="admin-config-item-container" did="MMX">
                <div class="buttons-section">
                    <span class="alert-container"></span>
                    <div id="admin-mmx-configuration-container" class="form-group clearfix"></div>
                    <hr />
                    <div class="button-group clearfix">
                        <button class="admin-config-save-btn btn btn-primary">Save</button>
                    </div>
                </div>
                <div class="loading buttons-section" style="display:none">
                    Loading.. Please Wait.. <img src="/admin/images/ajax-loader-sm.gif" />
                </div>
            </div>
        </div>
    </div>
</div>

<div id="loadingBar">
    <div id="loadingContent">
        Loading resources, please wait..
        <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
            <span class="sr-only"></span>
        </div>
    </div>
</div>
<div id="download-container" class="hidden"></div>


<!-- views start -->
<script id="AdminOverviewTmpl" type="text/template">

    <h5>Status</h5>
    <div class="panel panel-default form-group clearfix">
        <div class="col-sm-3">
            <label>Messaging Server Status</label>
            <div class="messaging-connectivity-container"></div>
        </div>
        <div class="col-sm-3">
            <label>Messaging Server Version</label>
            <span><%- mmxconfig['mmx.version'] %></span>
        </div>
        <div class="col-sm-3">
            <label>Admin Server Version</label>
            <span><%- stats['Server Version'] %></span>
        </div>
    </div>

    <h5>Environment</h5>
    <div class="panel panel-default form-group clearfix">
        <div class="col-sm-3">
            <label>External Hostname</label>
            <span><%- mmxconfig['mmx.push.callback.host'] %></span>
        </div>
        <div class="col-sm-3">
            <label>Internal Hostname</label>
            <span><%- configs.MMX.host %></span>
        </div>
        <div class="col-sm-3">
            <label>Domain</label>
            <span><%- mmxconfig['xmpp.domain'] %></span>
        </div>
        <div class="col-sm-3">
            <label>Log Directory</label>
            <span><%- configs.FileLog.folder %></span>
        </div>
    </div>

    <h5>Messaging Database</h5>
    <div class="panel panel-default form-group clearfix">
        <div class="col-sm-3">
            <label>Database Name</label>
            <span><%- mmxconfig.dbName %></span>
        </div>
        <div class="col-sm-3">
            <label>Host Hame</label>
            <span><%- mmxconfig.host %></span>
        </div>
        <div class="col-sm-3">
            <label>Port</label>
            <span><%- mmxconfig.port %></span>
        </div>
        <div class="col-sm-3">
            <label>Username</label>
            <span><%- mmxconfig.username %></span>
        </div>
    </div>

    <h5>Admin Database</h5>
    <div class="panel panel-default form-group clearfix">
        <div class="col-sm-3">
            <label>Database Name</label>
            <span><%- configs.Database.dbName %></span>
        </div>
        <div class="col-sm-3">
            <label>Host Hame</label>
            <span><%- configs.Database.host %></span>
        </div>
        <div class="col-sm-3">
            <label>Port</label>
            <span><%- configs.Database.port %></span>
        </div>
        <div class="col-sm-3">
            <label>Username</label>
            <span><%- configs.Database.username %></span>
        </div>
    </div>

    <% if(configs.Geologging.enabled){ %>
    <h5>Geo Tracking</h5>
    <div class="panel panel-default form-group clearfix">
        <div class="col-sm-3">
            <label>Port</label>
            <span><%- configs.Geologging.port %></span>
        </div>
        <div class="col-sm-3">
            <label>Status</label>
            <div class="geotracking-connectivity-container"></div>
        </div>
    </div>
    <% } %>

    <h5>Ports</h5>
    <div class="panel panel-default form-group clearfix">
        <table class="table table-bordered">
            <thead>
            <tr>
                <th>Port</th>
                <th>Protocol</th>
                <th>Target</th>
                <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td><%- mmxconfig['mmx.admin.api.port'] %></td>
                <td>HTTP</td>
                <td>Messaging server</td>
                <td>Send messages</td>
            </tr>
            <tr>
                <td><%- mmxconfig['mmx.admin.api.https.port'] %></td>
                <td>HTTPS</td>
                <td>Messaging server</td>
                <td>Send messages</td>
            </tr>
            <tr>
                <td><%- mmxconfig['xmpp.socket.plain.port'] %></td>
                <td>XMPP/TCP</td>
                <td>Messaging server</td>
                <td>Client messaging</td>
            </tr>
            <tr>
                <td><%- mmxconfig['xmpp.socket.ssl.port'] %></td>
                <td>XMPP/TCP</td>
                <td>Messaging server</td>
                <td>Client messaging</td>
            </tr>
            <tr>
                <td><%- mmxconfig['mmx.rest.http.port'] %></td>
                <td>HTTP</td>
                <td>Messaging server</td>
                <td>Internal server communication</td>
            </tr>
            <tr>
                <td><%- mmxconfig['mmx.rest.https.port'] %></td>
                <td>HTTPS</td>
                <td>Messaging server</td>
                <td>Internal server communication</td>
            </tr>
            <tr>
                <td><%- configs.MMX.webPort %></td>
                <td>HTTP</td>
                <td>Messaging server</td>
                <td><a href="#/actions/MMX">Internal server connection, advanced configuration</a></td>
            </tr>
            <tr>
                <td><%- configs.App.port %></td>
                <td>HTTP</td>
                <td>Administration server</td>
                <td><a href="#/actions/App">Web interface</a></td>
            </tr>
            <% if(configs.Geologging.enabled){ %>
            <tr>
                <td><%- configs.Geologging.port %></td>
                <td>XMPP/TCP</td>
                <td>Administration server</td>
                <td><a href="#/actions/Geologging">Geo Tracking</a></td>
            </tr>
            <% } %>
            <% if(configs.Email.enabled){ %>
            <tr>
                <td><%- configs.Email.port %></td>
                <td>SMTP</td>
                <td>Administration server</td>
                <td><a href="#/actions/Email">Email functionality</a></td>
            </tr>
            <% } %>
            <% if(configs.Redis.enabled){ %>
            <tr>
                <td><%- configs.Redis.port %></td>
                <td>RESP/TCP</td>
                <td>Administration server</td>
                <td><a href="#/actions/Redis">Redis</a></td>
            </tr>
            <% } %>
            </tbody>
        </table>
    </div>

</script>


<script id="AccountsListTmpl" type="text/template">
    <div class="repeater" id="mgmt-accounts-list">
        <div class="repeater-header">
            <div class="clearfix">
                <div class="generic-control-container">
                    <div class="repeater-icon-controls">
                        <div class="btn-group repeater-views" data-toggle="buttons">
                            <span id="mgmt-accounts-show-create-modal-btn" class="glyphicon glyphicon-plus" data-placement="bottom" data-toggle="tooltip" data-title="Add Account"></span>
                            <span id="mgmt-accounts-show-sendinvite-modal-btn" class="glyphicon glyphicon-envelope" data-placement="bottom" data-toggle="tooltip" data-title="Send a developer invite to Magnet Message. Email is required for this feature."></span>
                        </div>
                    </div>
                    <div class="repeater-header-left">
                        <div class="col-sm-4 same-line">
                            <button class="mgmt-account-list-refresh-btn same-line-button btn btn-primary">Refresh</button>
                            <div class="same-line-control">
                                <select class="form-control" name="searchby">
                                    <option>Select a search filter</option>
                                    <% _.each(filters, function(filter, key){ %>
                                    <option value="<%- key %>">Search by <%- filter.title %></option>
                                    <% }); %>
                                </select>
                            </div>
                        </div>
                        <div class="col-sm-8">
                            <div class="searchby-input-container"></div>
                        </div>
                    </div>
                    <div class="repeater-header-right hidden"">
                    <div class="btn-group selectlist repeater-filters" data-resize="auto">
                        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                            <span class="selected-label">&nbsp;</span>
                            <span class="caret"></span>
                            <span class="sr-only">Toggle Filters</span>
                        </button>
                        <ul class="dropdown-menu role="menu">
                        <li data-value="all" data-selected="true"><a href="#">All</a></li>
                        <li data-value="errorsonly"><a href="#">Errors Only</a></li>
                        </ul>
                        <input class="hidden hidden-field" name="filterSelection" readonly="readonly" aria-hidden="true" type="text"/>
                    </div>
                    <div class="btn-group repeater-views hidden" data-toggle="buttons">
                        <label class="btn btn-default active">
                            <input name="repeaterViews" type="radio" value="datagrid">
                            <span class="glyphicon glyphicon-list">
                                <span class="sr-only">List View</span>
                            </span>
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="repeater-viewport">
        <div class="repeater-canvas"></div>
        <div class="loader repeater-loader"></div>
    </div>
    <div class="repeater-footer">
        <div class="repeater-footer-left">
            <div class="repeater-itemization">
                <span><span class="repeater-start"></span> - <span class="repeater-end"></span> of <span class="repeater-count"></span> items</span>
                <div class="btn-group selectlist" data-resize="auto">
                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                        <span class="selected-label">&nbsp;</span>
                        <span class="caret"></span>
                        <span class="sr-only">Toggle Dropdown</span>
                    </button>
                    <ul class="dropdown-menu" role="menu">
                        <li data-value="5"><a href="#">5</a></li>
                        <li data-value="10" data-selected="true"><a href="#">10</a></li>
                        <li data-value="20"><a href="#">20</a></li>
                        <li data-value="50" data-foo="bar" data-fizz="buzz"><a href="#">50</a></li>
                        <li data-value="100"><a href="#">100</a></li>
                    </ul>
                    <input class="hidden hidden-field" name="itemsPerPage" readonly="readonly" aria-hidden="true" type="text"/>
                </div>
                <span>Per Page</span>
            </div>
        </div>
        <div class="repeater-footer-right">
            <div class="repeater-pagination">
                <button type="button" class="btn btn-default btn-sm repeater-prev">
                    <span class="glyphicon glyphicon-chevron-left"></span>
                    <span class="sr-only">Previous Page</span>
                </button>
                <label id="MyPageLabel" class="page-label">Page</label>
                <div class="repeater-primaryPaging active">
                    <div class="input-group input-append dropdown combobox">
                        <input type="text" class="form-control" aria-labelledby="MyPageLabel">
                        <div class="input-group-btn">
                            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                                <span class="caret"></span>
                                <span class="sr-only">Toggle Dropdown</span>
                            </button>
                            <ul class="dropdown-menu dropdown-menu-right"></ul>
                        </div>
                    </div>
                </div>
                <input type="text" class="form-control repeater-secondaryPaging" aria-labelledby="MyPageLabel">
                <span>of <span class="repeater-pages"></span></span>
                <button type="button" class="btn btn-default btn-sm repeater-next">
                    <span class="glyphicon glyphicon-chevron-right"></span>
                    <span class="sr-only">Next Page</span>
                </button>
            </div>
        </div>
    </div>
    </div>
</script>

<script id="SendInviteView" type="text/template">
    <span class="alert-container"></span>
    <div class="form-group">
        <div class="col-sm-12">
            <label>Email Address</label>
            <input type="text" class="form-control" name="email" maxlength="256" placeholder="Email Address" value="" />
        </div>
    </div>
</script>

<script id="CreateAccountView" type="text/template">
    <span class="alert-container"></span>
    <div class="form-group">
        <div class="col-sm-6">
            <label>First Name</label>
            <input type="text" class="form-control" name="firstName" maxlength="60" placeholder="First Name" value="" />
        </div>
        <div class="col-sm-6">
            <label>Last Name</label>
            <input type="text" class="form-control" name="lastName" maxlength="60" placeholder="Last Name" value="" />
        </div>
    </div>
    <div class="form-group">
        <div class="col-sm-12">
            <label>Email Address</label>
            <input type="text" class="form-control" name="email" maxlength="256" placeholder="Email Address" value="" />
        </div>
    </div>
    <div class="form-group">
        <div class="col-sm-8">
            <label>Password</label>
            <div class="toggling-password-input">
                <span class="glyphicon glyphicon-eye-close hidden" title="" data-placement="top" data-toggle="tooltip" data-title="Click the eye to hide the password value."></span>
                <span class="glyphicon glyphicon-eye-open" title="" data-placement="top" data-toggle="tooltip" data-title="Click the eye to display the password value."></span>
                <input type="password" class="form-control toggling-password-input" name="password" placeholder="Password">
            </div>
        </div>
        <div class="col-sm-4">
            <label>Type</label>
            <select class="form-control" name="userType">
                <option value="developer">developer</option>
                <option value="admin">admin</option>
            </select>
        </div>
    </div>
</script>

<script id="ADVdaterangeFilter" type="text/template">
    <div did="<%- name %>" class="clearfix advsearch-filter-item">
        <div class="row-fluid">
            <div class="col-sm-6">
                <div class="fromDt datepicker clearfix dropdown" data-initialize="datepicker">
                    <div class="input-group">
                        <input type="text" class="form-control" name="fromDt" placeholder="Start Date" />
                        <div class="input-group-btn">
                            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                                <span class="glyphicon glyphicon-calendar"></span>
                                <span class="sr-only">Toggle Calendar</span>
                            </button>
                            <div class="dropdown-menu dropdown-menu-right calendar-menu"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-6 second">
                <div class="toDt datepicker dropdown" data-initialize="datepicker">
                    <div class="input-group">
                        <input type="text" class="form-control" name="toDt" placeholder="End Date" />
                        <div class="input-group-btn">
                            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                                <span class="glyphicon glyphicon-calendar"></span>
                                <span class="sr-only">Toggle Calendar</span>
                            </button>
                            <div class="dropdown-menu dropdown-menu-right calendar-menu"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</script>

<script id="ADVsearchFilter" type="text/template">
    <div did="<%- name %>" class="advsearch-filter-item">
        <input type="text" name="<%- filter.type %>" class="form-control" placeholder="<%- filter.title %>" value="" />
    </div>
</script>

<script id="AdminUserDetailsView" type="text/template">
    <div id="user-panel" class="panel panel-default">
        <div class="panel-heading">
            <div class="buttons">
                <div class="buttons-section">
                    <div did="readonly" class="btn-group" data-toggle="buttons">
                        <span id="mgmt-user-edit-btn" class="glyphicon bluetxt glyphicon-pencil disableable"></span>
                        <span id="mgmt-user-delete-btn" class="glyphicon redtxt glyphicon-trash"></span>
                    </div>
                    <div class="divider"></div>
                    <div did="readwrite" class="btn-group" data-toggle="buttons">
                        <span id="mgmt-user-save-btn" class="glyphicon greentxt glyphicon-ok-circle disabled disableable"></span>
                        <span id="mgmt-user-cancel-btn" class="glyphicon redtxt glyphicon-remove-circle disabled disableable"></span>
                    </div>
                </div>
                <div class="loading buttons-section" style="display:none">
                    Loading.. Please Wait.. <img src="../images/ajax-loader-sm.gif" />
                </div>
            </div>
        </div>
        <div class="panel-body">
            <div class="form-group clearfix">
                <div class="row-fluid">
                    <div class="col-sm-6">
                        <label class="control-label">First Name</label>
                        <div class="controls">
                            <input type="text" class="form-control" disabled="disabled" name="firstName" value="<%-  model.firstName %>" placeholder="First Name">
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <label class="control-label">Last Name</label>
                        <div class="controls">
                            <input type="text" class="form-control" disabled="disabled" name="lastName" value="<%-  model.lastName %>" placeholder="Last Name">
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <label class="control-label">Email Address</label>
                        <div class="controls">
                            <span class="graytxt"><%- model.email %></span>
                        </div>
                    </div>
                    <div class="col-sm-3">
                        <label class="control-label">Account Status</label>
                        <div class="btn-group btn-toggle btn-switch clearfix" did="activated">
                            <button class="btn btn-sm disabled <% if(model.activated === true){ %>btn-primary active<% }else{ %>btn-default<% } %>" did="true" type="button">Active</button>
                            <button class="btn btn-sm disabled <% if(typeof model.activated == 'undefined' || model.activated === false){ %>btn-primary active<% }else{ %>btn-default<% } %>" did="false" type="button">Blocked</button>
                        </div>
                    </div>
                    <div class="col-sm-3">
                        <label class="control-label">Reset Password</label>
                        <div class="controls">
                            <button id="user-reset-password-btn" class="btn btn-primary">Reset Password</button>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <label class="control-label">Company</label>
                        <div class="controls">
                            <input type="text" class="form-control" disabled="disabled" name="companyName" value="<%-  model.companyName %>" placeholder="Company">
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <label class="control-label">Role Within Company</label>
                        <div class="controls">
                            <input type="text" class="form-control" disabled="disabled" name="roleWithinCompany" value="<%-  model.roleWithinCompany %>" placeholder="Role Within Company">
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <label class="control-label">Type of User (Internal)</label>
                        <% if(model.userType == 'developer' || model.userType == 'admin'){ %>
                        <select class="form-control"  disabled="disabled" name="userType">
                            <option value="developer" <% if(model.userType == 'developer'){ %>selected="selected"<% } %>>developer</option>
                            <option value="admin" <% if(model.userType == 'admin'){ %>selected="selected"<% } %>>admin</option>
                        </select>
                        <% } %>
                    </div>
                    <div class="col-sm-<% if(model.invitedEmail){ %>2<% }else{ %>3<% } %>">
                        <label class="control-label">Created On</label>
                        <div class="controls">
                            <span class="graytxt"><%- model.createdAt %></span>
                        </div>
                    </div>
                    <div class="col-sm-<% if(model.invitedEmail){ %>2<% }else{ %>3<% } %>">
                        <label class="control-label">Last Updated</label>
                        <div class="controls">
                            <span class="graytxt"><%- model.updatedAt %></span>
                        </div>
                    </div>
                    <% if(model.invitedEmail){ %>
                    <div class="col-sm-<% if(model.invitedEmail){ %>2<% }else{ %>3<% } %>">
                        <label class="control-label">Invited By</label>
                        <div class="controls">
                            <span class="graytxt"><%- model.invitedEmail %></span>
                        </div>
                    </div>
                    <% } %>
                </div>
            </div>
        </div>
    </div>
</script>
<script id="MMXAppListView" type="text/template">
    <% if(col && col.length > 0){ %>
        <div class="row-fluid">
        <% _.each(col, function(model, key){ %>
            <div class="col-sm-6">
                <div did="<%- model.attributes.appId %>" class="panel panel-default <% if(!model.attributes.appId){ %>hidden<% } %>">
                    <div class="panel-heading">
                        <div class="row-fluid clearfix">
                            <div class="col-sm-5">
                                <h4 class="panel-title">
                                <%- model.attributes.name %>
                                </h4>
                                <div class="panel-name hidden">
                                    <input type="text" class="form-control" name="name" value="<%- model.attributes.name %>">
                                </div>
                            </div>
                            <div class="col-sm-7">
                                <div class="buttons pull-right">
                                    <div class="buttons-section">
                                        <div did="readonly" class="btn-group" data-toggle="buttons">
                                            <span class="mmx-edit glyphicon bluetxt glyphicon-pencil disableable"></span>
                                            <span did="delete" id="mgmt-mmxapp-delete-btn" class="glyphicon redtxt glyphicon-trash"></span>
                                        </div>
                                        <div class="divider"></div>
                                        <div did="readwrite" class="btn-group" data-toggle="buttons">
                                            <span class="mmx-saveedit glyphicon greentxt glyphicon-ok-circle disabled disableable"></span>
                                            <span class="mmx-canceledit glyphicon redtxt glyphicon-remove-circle disabled disableable"></span>
                                        </div>
                                    </div>
                                    <div class="loading buttons-section" style="display:none">
                                        Loading.. Please Wait.. <img src="../images/ajax-loader-sm.gif" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel-body">
                        <div class="form-group">
                            <label>API Key</label>
                            <div class="controls">
                                <span class="graytxt"><%- model.attributes.appAPIKey %></span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Creation Date</label>
                            <div class="controls">
                                <span class="graytxt"><%- utils.fromISO8601(model.attributes.iso8601CreationDate) %></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        <% }); %>
        </div>

    <% } %>
</script>
<script id="InvitedUsersListView" type="text/template">
    <% if(col && col.length > 0){ %>
    <td><h4>Invited Users</h4></td>
    <td>
        <table class="table table-bordered table-striped table-hover">
            <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Invited On</th>
            </tr>
            <tbody>
            <% _.each(col, function(user, i){ %>
                <tr>
                <td><%- user.attributes.profileName %></td>
                <td><%- user.attributes.email || user.attributes.invitedEmail %></td>
                <td><%- user.attributes.createdAt %></td>
            </tr>
            <% }); %>
            </tbody>
        </table>
    </td>
    <% } %>
</script>

<script id="CMSListView" type="text/template">
    <% if(col && col.length > 0){ %>
            <ul class="nav nav-list panel">
            <% var cached = ''; _.each(col, function(model, i){ %>
                <!--<% if(cached != model.folder){ cached = model.folder; %>-->
                <!--<li class="nav-header"><%- cached %></li>-->
                <!--<% } %>-->
                <li><a href="#" class="cmspage" folder="<%- model.folder %>" noLayout="<%- model.noLayout %>" filename="<%- model.filename %>"><%- model.filename %></a></li>
            <% }); %>
            </ul>
    <% }else{ %>
    No pages are available.
    <% } %>
</script>
<script id="tableTmplView" type="text/template">
<% if(!disableControls){ %>
    <div class="row-fluid clearfix">
        <div class="col-sm-6">
            <ul class="breadcrumb">
                Sort Order: <br />
                <span></span>
            </ul>
        </div>
        <div class="col-sm-6">
            <% if(!hideSearch){ %>
                <div class="input-append">
                    <div class="input-container">
                        <input type="text" class="form-control" maxlength="200" placeholder="Search for...">
                    </div>
                    <div class="btn-group">
                        <button class="btn btn-default btn-clear" type="button" style="display:none">Clear <i class="glyphicon glyphicon-remove"></i></button>
                        <button class="btn btn-default dropdown-toggle">
                            <span class="searchby-text">Search By<% if(searchBy){ %>: <%- headers[searchBy] %><% } %></span>
                            <span class="caret"></span>
                        </button>
                        <button class="btn btn-primary" type="button"><span class="glyphicon glyphicon-search"></span></button>
                        <ul class="dropdown-menu">
            <% _.each(headers, function(header, key){ %>
                        <% if(key != 'profileName' && key != 'accountMagnetActive' && key != 'getConfig'){ %><li<% if(key == searchBy){ %> class="active"<% } %>><a href="#" p="<%- key %>"><%- (header == 'Timestamp' ? 'Date' : header) %><% } %></a></li>
            <% }); %>
                        </ul>
                    </div>
                </div>
            <% } %>
        </div>
    </div>
<% } %>
    <table class="table table-striped table-hover table-bordered">
        <thead>
            <tr>
                <% _.each(headers, function(header, key){ %>
                <th <% if(key != 'profileName' && key != 'accountMagnetActive' && key != 'getConfig'){ %>p="<%- key %>"<% } %>><%- header %><span class=""></span></th>
                <% }); %>
<% if(!disableInfo){ %>
                <th class="listview-details">Details</th>
<% } %>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
    <div class="pagination-container"></div>
</script>
<script id="tableItemView" type="text/template">
<% _.each(collection, function(model, key){ %>
    <tr data-id="<%- model.attributes.magnetId %>">
<% _.each(headers, function(header, key){ %>
        <% if(key == 'getConfig'){ %>
        <td><%= model.attributes['getConfig'] %></td>
        <% }else{ %>
        <td><% if(model.attributes[key]){ %><% if(model.attributes[key].length > 0){ %><%- model.attributes[key] %><% } %><% } %></td>
        <% } %>
<% }); %>
<% if(!disableInfo){ %>
         <td><a href="" class="listview-link">More Info</a></td>
<% } %>
    </tr>
<% }); %>
</script>
<script id="paginationDetailView" type="text/template">
<% if(paging.total > 10){ %>
    <ul class="pagination">
        <li <% if(paging.start == 0){ %>class="disabled"<% } %>><a href="#" page="<%-paging.previous%>">Prev</a></li>
<% if(paging.start > (paging.rpp * 5) && paging.total < (paging.start+60)){ %>
        <% for(i=Math.round((paging.total-110) / 10) * 10;i<paging.total;i+=paging.rpp){ if(i >= 0){ %>
        <li <% if(paging.start == i){ %>class="disabled"<% } %> ><a href="#" page="<%-i%>"><%-(i/10)+1%></a></li>
        <% } %>
<% } }else if(paging.start > (paging.rpp * 5)){ %>
        <% for(i=(paging.start-50);i<(paging.total < (paging.start+60) ? paging.total : (paging.start+60));i+=paging.rpp){ %>
        <li <% if(paging.start == i){ %>class="disabled"<% } %> ><a href="#" page="<%-i%>"><%-(i/10)+1%></a></li>
        <% } %>
<% }else{ %>
        <% for(i=0;i<(paging.total < 110 ? paging.total : 110);i+=paging.rpp){ %>
        <li <% if(paging.start == i){ %>class="disabled"<% } %> ><a href="#" page="<%-i%>"><%-(i/10)+1%></a></li>
        <% } %>
<% } %>
        <li <% if(!paging.next || (paging.start+paging.rpp) == paging.total){ %>class="disabled"<% } %>><a href="#" page="<%-paging.next%>">Next</a></li>
    </ul>
    <div class="pagination-captions">
        <%- paging.total %> records total. viewing records <%- (paging.start+1) %> to <%- (paging.total < (paging.start+paging.rpp) ? paging.total : (paging.start+paging.rpp)) %>.
    </div>
<% } %>
</script>
<!-- dialogs end -->

<script id="AdminConfigurationTmpl" type="text/template">
    <div class="panel-group clearfix" id="admin-config-container-collapsible">
        <% _.each(allowed, function(key, i){ var val = configs[key] %>
        <div class="panel panel-default">
            <div class="panel-heading">
                <h4 class="panel-title">
                    <a data-toggle="collapse" data-parent="#admin-config-container-collapsible" href="#admin-config-item-<%- key %>">
                        <%- key === 'Email' ? 'Email Settings' : key.replace('Log', ' Log Settings').replace('Alerts', ' Alerts')
                        .replace('App', 'System Administration Settings').replace('Geologging', 'Geo Tracking')
                        .replace('MMX', 'Magnet Message Connection Settings').replace('MessagingSettings', 'Messaging Settings')
                        .replace('Database', 'Magnet Message Database Settings').replace('Database Settings Log', 'Database Log') %>
                    </a>
                </h4>
            </div>
            <div id="admin-config-item-<%- key %>" class="panel-collapse collapse">
                <div class="panel-body">
                    <div class="admin-config-item-container" did="<%- key %>">
                        <div class="buttons-section">
                            <span class="alert-container"></span>
                            <div class="form-group clearfix">
                            <%= renderConfigItem(key, val, configs, featureConfigs[key]) %>
                            </div>
                            <hr />
                            <div class="button-group clearfix">
                                <button class="admin-config-save-btn btn btn-primary <%- ((key == 'EmailAlerts' && configs['Email'].enabled !== true) ? 'disabled' : '') %>"><%- (key == 'MMX' ? 'Apply' : 'Save') %><%- (['App', 'Redis'].indexOf(key) != -1) ? ' and Restart' : '' %></button>
                                <button class="admin-config-reset-btn btn btn-primary">Reset</button>
                            </div>
                        </div>
                        <div class="loading buttons-section" style="display:none">
                            Loading.. Please Wait.. <img src="/admin/images/ajax-loader-sm.gif" />
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <% }); %>
    </div>
</script>
<script id="AdminConfigurationAppTmpl" type="text/template">
    <div class="col-sm-6">
        <label>Remote Url
            <span class="glyphicon glyphicon-info-sign" title="" data-placement="top" data-toggle="tooltip" data-title="The Remote Url is the remote hostname of the Admin Console (should be accessible to Magnet Message users from a web browser)."></span>
        </label>
        <input type="text" name="appUrl" class="form-control" placeholder="App Url" value="<%- config.appUrl %>" />
    </div>
    <div class="col-sm-3">
        <label>Port
            <span class="glyphicon glyphicon-info-sign" title="" data-placement="top" data-toggle="tooltip" data-title="The internal port of the Admin Console server (behind load balancer if applicable)."></span>
        </label>
        <input type="text" name="port" class="form-control" placeholder="Port" value="<%- config.port %>" />
    </div>
    <div class="col-sm-3">
        <label>Handle Exceptions
            <span class="glyphicon glyphicon-info-sign" title="" data-placement="top" data-toggle="tooltip" data-title="If enabled, uncaught exceptions will be caught and logged. This is useful for production environments."></span>
        </label>
        <div class="btn-group btn-toggle btn-switch clearfix" did="handleExceptions">
            <button class="btn btn-sm <% if(config.handleExceptions === true){ %>btn-primary active<% }else{ %>btn-default<% } %>" did="true" type="button">ON</button>
            <button class="btn btn-sm <% if(typeof config.handleExceptions == 'undefined' || config.handleExceptions === false){ %>btn-primary active<% }else{ %>btn-default<% } %>" did="false" type="button">OFF</button>
        </div>
    </div>
</script>
<script id="AdminConfigurationDatabaseTmpl" type="text/template">
    <p>Modify the System Administration Console database settings.</p>
    <div class="alert alert-danger" role="alert">
        <strong>Warning:</strong> If the database is changed, the new database must have at least one admin user in order to login.
    </div>
    <div class="col-sm-5">
        <label>Hostname</label>
        <input type="text" name="host" class="form-control" placeholder="Hostname" value="<%- config.host %>" />
    </div>
    <div class="col-sm-5">
        <label>Database Name</label>
        <input type="text" name="dbName" class="form-control" placeholder="Database Name" value="<%- config.dbName %>" />
    </div>
    <div class="col-sm-2">
        <label>Port</label>
        <input type="text" maxlength="10" name="port" class="form-control" placeholder="Port" value="<%- config.port %>" />
    </div>
    <div class="col-sm-6">
        <label>Username</label>
        <input type="text" name="username" class="form-control" placeholder="Username" value="<%- config.username %>" />
    </div>
    <div class="col-sm-6">
        <label>Password</label>
        <input type="password" name="password" class="form-control" placeholder="Password" value="" />
    </div>
</script>
<script id="AdminConfigurationRedisTmpl" type="text/template">
    <p>Redis can be used to share user session and configuration between multiple Admin Console nodes in a cluster. For a single
        Admin Console deployment, Redis allows modification of configuration without restart of server.</p>
    <div class="col-sm-3">
        <label>Enabled
            <span class="glyphicon glyphicon-info-sign" title="" data-placement="top" data-toggle="tooltip" data-title="A redis database can be used to store user sessions. This is required only if you wish to deploy the Admin Console server as a cluster."></span>
        </label>
        <div class="btn-group btn-toggle btn-switch clearfix" did="enabled">
            <button class="btn btn-sm <% if(config.enabled === true){ %>btn-primary active<% }else{ %>btn-default<% } %>" did="true" type="button">Enabled</button>
            <button class="btn btn-sm <% if(typeof config.enabled == 'undefined' || config.enabled === false){ %>btn-primary active<% }else{ %>btn-default<% } %>" did="false" type="button">Disabled</button>
        </div>
    </div>
    <div class="col-sm-7">
        <label>Hostname</label>
        <input type="text" name="host" <%- config.enabled === true ? '' : 'disabled="disabled"' %> class="form-control" placeholder="Hostname" value="<%- config.host %>" />
    </div>
    <div class="col-sm-2">
        <label>Port</label>
        <input type="text" maxlength="10" name="port" <%- config.enabled === true ? '' : 'disabled="disabled"' %> class="form-control" placeholder="Port" value="<%- config.port %>" />
    </div>
    <div class="col-sm-6">
        <label>Password</label>
        <input type="password" name="pass" <%- config.enabled === true ? '' : 'disabled="disabled"' %> class="form-control" placeholder="Password" value="" />
    </div>
    <div class="col-sm-6">
        <label>Store Config
            <span class="glyphicon glyphicon-info-sign" title="" data-placement="top" data-toggle="tooltip" data-title="Enable to store configuration in Redis. Configuration changes made from the Administration page will apply to all nodes in the cluster. Disable this feature if you plan to deploy configuration using Puppet, Chef, or CodeDeploy."></span>
        </label>
        <div class="btn-group btn-toggle btn-switch clearfix" did="storeConfig">
            <button class="btn btn-sm <% if(config.storeConfig === true){ %>btn-primary active<% }else{ %>btn-default<% } %>" did="true" type="button">Enabled</button>
            <button class="btn btn-sm <% if(typeof config.storeConfig == 'undefined' || config.storeConfig === false){ %>btn-primary active<% }else{ %>btn-default<% } %>" did="false" type="button">Disabled</button>
        </div>
    </div>
</script>
<script id="AdminConfigurationConsoleLogTmpl" type="text/template">
    <p>System generated diagnostic logs can be output in terminal window.</p>
    <div class="col-sm-4">
        <label>Enabled</label>
        <div class="btn-group btn-toggle btn-switch clearfix" did="enabled">
            <button class="btn btn-sm <% if(config.enabled === true){ %>btn-primary active<% }else{ %>btn-default<% } %>" did="true" type="button">Enabled</button>
            <button class="btn btn-sm <% if(typeof config.enabled == 'undefined' || config.enabled === false){ %>btn-primary active<% }else{ %>btn-default<% } %>" did="false" type="button">Disabled</button>
        </div>
    </div>
    <div class="col-sm-4">
        <label>Log Level</label>
        <select class="form-control" <%- config.enabled === true ? '' : 'disabled="disabled"' %> name="level">
            <% _.each(levels, function(val, key){ %>
            <option value="<%- val %>" <% if(config.level === val){ %>selected="selected"<% } %>><%- val %></option>
            <% }); %>
        </select>
    </div>
</script>
<script id="AdminConfigurationFileLogTmpl" type="text/template">
    <p>Generate system diagnostic logs saved as log files.</p>
    <div class="col-sm-4">
        <label>Enabled</label>
        <div class="btn-group btn-toggle btn-switch clearfix" did="enabled">
            <button class="btn btn-sm <% if(config.enabled === true){ %>btn-primary active<% }else{ %>btn-default<% } %>" did="true" type="button">Enabled</button>
            <button class="btn btn-sm <% if(typeof config.enabled == 'undefined' || config.enabled === false){ %>btn-primary active<% }else{ %>btn-default<% } %>" did="false" type="button">Disabled</button>
        </div>
    </div>
    <div class="col-sm-4">
        <label>Log Level</label>
        <select class="form-control" <%- config.enabled === true ? '' : 'disabled="disabled"' %> name="level">
            <% _.each(levels, function(val, key){ %>
            <option value="<%- val %>" <% if(config.level === val){ %>selected="selected"<% } %>><%- val %></option>
            <% }); %>
        </select>
    </div>
    <div class="col-sm-4">
        <label>Folder
            <span class="glyphicon glyphicon-info-sign" title="" data-placement="top" data-toggle="tooltip" data-title="The folder to write log files, relative to the directory containing the administration console application."></span>
        </label></label>
        <input type="text" name="folder" <%- config.enabled === true ? '' : 'disabled="disabled"' %> class="form-control" placeholder="Folder" value="<%- config.folder %>" />
    </div>
    <div class="col-sm-4">
        <label>Filename</label>
        <input type="text" name="filename" <%- config.enabled === true ? '' : 'disabled="disabled"' %> class="form-control" placeholder="Filename" value="<%- config.filename %>" />
    </div>
    <div class="col-sm-4">
        <label>Maximum Size
            <span class="glyphicon glyphicon-info-sign" title="" data-placement="top" data-toggle="tooltip" data-title="The maximum log file size (in bytes) before logs are written to a new file."></span>
        </label>
        <input type="text" name="maxsize" <%- config.enabled === true ? '' : 'disabled="disabled"' %> class="form-control" placeholder="Maximum Size" value="<%- config.maxsize %>" />
    </div>
    <div class="col-sm-4">
        <label>Max Saved Files
            <span class="glyphicon glyphicon-info-sign" title="" data-placement="top" data-toggle="tooltip" data-title="The maximum number of log files before logs are overwritten."></span>
        </label>
        <input type="text" name="maxFiles" <%- config.enabled === true ? '' : 'disabled="disabled"' %> class="form-control" placeholder="Maximum Files" value="<%- config.maxFiles %>" />
    </div>
</script>
<script id="AdminConfigurationEmailAlertsTmpl" type="text/template">
    <p>
        A recipient can be set up to receive alerts when a problem occurs.
        <% if(allConfigs.Email.enabled !== true){ %>
        <br />
        <span class="redtxt">System email is not set up. Alerts can not be set up without email.</span> <a href="#/actions/Email">Click here to set up email</a>.
        <% } %>
    </p>
    <div class="col-sm-12 clearfix">
        <div class="btn-group btn-toggle btn-switch" did="enabled">
            <button class="btn btn-sm <% if(allConfigs.Email.enabled !== true){ %>disabled<%} %> <% if(config.enabled === true){ %>btn-primary active<% }else{ %>btn-default<% } %>" did="true" type="button">Enabled</button>
            <button class="btn btn-sm <% if(allConfigs.Email.enabled !== true){ %>disabled<%} %> <% if(typeof config.enabled == 'undefined' || config.enabled === false){ %>btn-primary active<% }else{ %>btn-default<% } %>" did="false" type="button">Disabled</button>
        </div>
        <label class="aligned">Email Alerts
            <span class="glyphicon glyphicon-info-sign" title="" data-placement="top" data-toggle="tooltip" data-title="The Email feature must first be enabled and configured correctly before email logs can be sent."></span>
        </label>
    </div>
    <div class="col-sm-8">
        <label>Recipient</label>
        <input type="text" name="recipient" <%- config.enabled === true ? '' : 'disabled="disabled"' %> class="form-control" placeholder="email address" value="<%- config.recipient %>" />
    </div>
    <div class="col-sm-4">
        <label>Alert Level</label>
        <select class="form-control" <%- config.enabled === true ? '' : 'disabled="disabled"' %> name="level">
            <% _.each(levels, function(val, key){ %>
            <% if(['warn', 'error'].indexOf(val) != -1){ %>
            <option value="<%- val %>" <% if(config.level === val){ %>selected="selected"<% } %>><%- val %></option>
            <% } %>
            <% }); %>
        </select>
    </div>
</script>
<script id="AdminConfigurationDatabaseLogTmpl" type="text/template">
    <p>Certain administrative and messaging events can be written to MySQL database and displayed in the list below. </p>
    <div class="col-sm-6 clearfix">
        <label>Enabled</label>
        <div class="btn-group btn-toggle btn-switch clearfix" did="enabled">
            <button class="btn btn-sm <% if(config.enabled === true){ %>btn-primary active<% }else{ %>btn-default<% } %>" did="true" type="button">Enabled</button>
            <button class="btn btn-sm <% if(typeof config.enabled == 'undefined' || config.enabled === false){ %>btn-primary active<% }else{ %>btn-default<% } %>" did="false" type="button">Disabled</button>
        </div>
    </div>
    <div class="col-sm-6 clearfix">
        <label>Log Level</label>
        <select class="form-control" <%- config.enabled === true ? '' : 'disabled="disabled"' %> name="level">
            <% _.each(levels, function(val, key){ %>
            <% if(['silly'].indexOf(val) == -1){ %>
            <option value="<%- val %>" <% if(config.level === val){ %>selected="selected"<% } %>><%- val %></option>
            <% } %>
            <% }); %>
        </select>
    </div>
</script>
<script id="AdminConfigurationEmailTmpl" type="text/template">
    <p>Once email is set up properly, the email logging feature can be enabled and emails can be sent automatically to users during the registration process.</p>
    <div class="col-sm-4 clearfix">
        <label>Enabled</label>
        <div class="btn-group btn-toggle btn-switch" did="enabled">
            <button class="btn btn-sm <% if(config.enabled === true){ %>btn-primary active<% }else{ %>btn-default<% } %>" did="true" type="button">Enabled</button>
            <button class="btn btn-sm <% if(typeof config.enabled == 'undefined' || config.enabled === false){ %>btn-primary active<% }else{ %>btn-default<% } %>" did="false" type="button">Disabled</button>
        </div>
    </div>
    <div class="col-sm-4 clearfix">
        <label>TLS</label>
        <div class="btn-group btn-toggle btn-switch" did="tls">
            <button class="btn btn-sm <% if(config.tls === true){ %>btn-primary active<% }else{ %>btn-default<% } %> <%- config.enabled === true ? '' : 'disabled' %>" did="true" type="button">ON</button>
            <button class="btn btn-sm <% if(typeof config.tls == 'undefined' || config.tls === false){ %>btn-primary active<% }else{ %>btn-default<% } %>  <%- config.enabled === true ? '' : 'disabled' %>" did="false" type="button">OFF</button>
        </div>
    </div>
    <div class="col-sm-4">
        <label>Sender</label>
        <input type="text" name="sender" <%- config.enabled === true ? '' : 'disabled="disabled"' %> class="form-control" placeholder="ender" value="<%- config.sender %>" />
    </div>
    <div class="col-sm-9">
        <label>Hostname</label>
        <input type="text" name="host" <%- config.enabled === true ? '' : 'disabled="disabled"' %> class="form-control" placeholder="Hostname" value="<%- config.host %>" />
    </div>
    <div class="col-sm-3">
        <label>Port</label>
        <input type="text" maxlength="10" name="port" <%- config.enabled === true ? '' : 'disabled="disabled"' %> class="form-control" placeholder="Port" value="<%- config.port %>" />
    </div>
    <div class="col-sm-6">
        <label>Username</label>
        <input type="text" name="user" <%- config.enabled === true ? '' : 'disabled="disabled"' %> class="form-control" placeholder="Username" value="<%- config.user %>" />
    </div>
    <div class="col-sm-6">
        <label>Password</label>
        <input type="password" name="password" <%- config.enabled === true ? '' : 'disabled="disabled"' %> class="form-control" placeholder="Password" value="" />
    </div>
</script>
<script id="AdminConfigurationGeologgingTmpl" type="text/template">
    <p>Enable geographical tracking to store user and device geographic locations to database.</p>
    <div class="col-sm-4 clearfix">
        <label>Enabled</label>
        <div class="btn-group btn-toggle btn-switch" did="enabled">
            <button class="btn btn-sm <% if(config.enabled === true){ %>btn-primary active<% }else{ %>btn-default<% } %>" did="true" type="button">Enabled</button>
            <button class="btn btn-sm <% if(typeof config.enabled == 'undefined' || config.enabled === false){ %>btn-primary active<% }else{ %>btn-default<% } %>" did="false" type="button">Disabled</button>
        </div>
    </div>

    <div class="col-sm-4">
        <label>Connection State</label>
        <div class="geotracking-connectivity-container"></div>
    </div>
    <div class="col-sm-4">
        <label>Service Domain</label>
        <input type="text" name="servername" <%- config.enabled === true ? '' : 'disabled="disabled"' %> class="form-control" placeholder="Service Domain" value="<%- config.servername %>" />
    </div>
    <div class="col-sm-4">
        <label>Service Id</label>
        <input type="text" name="jid" <%- config.enabled === true ? '' : 'disabled="disabled"' %> class="form-control" placeholder="Service Id" value="<%- config.jid %>" />
    </div>
    <div class="col-sm-4">
        <label>Hostname</label>
        <input type="text" name="host" <%- config.enabled === true ? '' : 'disabled="disabled"' %> class="form-control" placeholder="Hostname" value="<%- config.host %>" />
    </div>
    <div class="col-sm-4">
        <label>Secret Key</label>
        <div class="toggling-password-input">
            <span class="glyphicon glyphicon-eye-close hidden" title="" data-placement="top" data-toggle="tooltip" data-title="Click the eye to hide the password value."></span>
            <span class="glyphicon glyphicon-eye-open" title="" data-placement="top" data-toggle="tooltip" data-title="Click the eye to display the password value."></span>
            <input type="password" name="secretkey" <%- config.enabled === true ? '' : 'disabled="disabled"' %> class="form-control toggling-password-input" placeholder="Secret Key" value="<%- config.secretkey %>" />
        </div>
    </div>
    <div class="col-sm-3">
        <label>Port</label>
        <input type="text" maxlength="10" name="port" <%- config.enabled === true ? '' : 'disabled="disabled"' %> class="form-control" placeholder="Port" value="<%- config.port %>" />
    </div>
    <div class="col-sm-3">
        <label>Flush Interval
            <span class="glyphicon glyphicon-info-sign" title="" data-placement="top" data-toggle="tooltip" data-title="To improve performance, set the amount of geolocation cache entries before they are stored to database."></span>
        </label>
        <input type="text" maxlength="10" name="flushInterval" <%- config.enabled === true ? '' : 'disabled="disabled"' %> class="form-control" placeholder="number of entries" value="<%- config.flushInterval %>" />
    </div>
    <div class="col-sm-3">
        <label>Expiration Timeout
            <span class="glyphicon glyphicon-info-sign" title="" data-placement="top" data-toggle="tooltip" data-title="The time in minutes before a geolocation record is considered outdated and removed from the database."></span>
        </label>
        <input type="text" maxlength="10" name="expirationTimeout" <%- config.enabled === true ? '' : 'disabled="disabled"' %> class="form-control" placeholder="time in minutes" value="<%- config.expirationTimeout %>" />
    </div>
    <div class="col-sm-3">
        <label>Cleanup Interval
            <span class="glyphicon glyphicon-info-sign" title="" data-placement="top" data-toggle="tooltip" data-title="The interval in minutes when the database should be inspected to check for outdated geolocation records."></span>
        </label>
        <input type="text" maxlength="10" name="cleanupInterval" <%- config.enabled === true ? '' : 'disabled="disabled"' %> class="form-control" placeholder="time in minutes" value="<%- config.cleanupInterval %>" />
    </div>
</script>
<script id="AdminConfigurationMMXTmpl" type="text/template">
    <p>Modify messaging server connectivity settings.</p>
    <div did="mmx-connect" class="form-group clearfix">
        <div class="col-sm-9">
            <label>Hostname</label>
            <input type="text" name="host" class="form-control" placeholder="Hostname" value="<%- config.host %>" />
        </div>
        <div class="col-sm-3">
            <label>Web Port</label>
            <input type="text" maxlength="10" name="webPort" class="form-control" placeholder="Port" value="<%- config.webPort %>" />
        </div>
        <div class="col-sm-6">
            <label>Username</label>
            <input type="text" name="user" class="form-control" placeholder="Username" value="<%- config.user %>" />
        </div>
        <div class="col-sm-6">
            <label>Password</label>
            <div class="toggling-password-input">
                <span class="glyphicon glyphicon-eye-close hidden" title="" data-placement="top" data-toggle="tooltip" data-title="Click the eye to hide the password value."></span>
                <span class="glyphicon glyphicon-eye-open" title="" data-placement="top" data-toggle="tooltip" data-title="Click the eye to display the password value."></span>
                <input type="password" name="password" class="form-control toggling-password-input" placeholder="Password" value="<%- config.password %>" />
            </div>
        </div>
    </div>
    <p><a href="/">Go to Magnet Message Application Console</a></p>
</script>

<script id="AdminConfigurationMessagingSettingsTmpl" type="text/template">
    <% if(config){ %>
    <div did="mmx-config" class="form-group clearfix">
        <div class="row-fluid clearfix">
            <div class="col-sm-4">
                <label>External Hostname
                    <span class="glyphicon glyphicon-info-sign" title="" data-placement="top" data-toggle="tooltip" data-title="The public hostname to be used by mobile clients for acknowledging push notifications."></span>
                </label>
                <input type="text" name="mmx.push.callback.host" class="form-control" placeholder="A public hostname" value="<%- config['mmx.push.callback.host'] %>" />
            </div>
            <div class="col-sm-2">
                <label>External Port
                    <span class="glyphicon glyphicon-info-sign" title="" data-placement="top" data-toggle="tooltip" data-title="The public port to be used by mobile clients for acknowledging push notifications."></span>
                </label>
                <input type="text" maxlength="10" name="mmx.push.callback.port" class="form-control" placeholder="A public port" value="<%- config['mmx.push.callback.port'] %>" />
            </div>
            <div class="col-sm-2">
                <label>Access Control
                    <span class="glyphicon glyphicon-info-sign" title="" data-placement="top" data-toggle="tooltip" data-title="In Relaxed mode, messaging apps are accessible by all developers. In Strict mode, apps are only accessible by the developer who created the app."></span>
                </label>
                <div class="btn-group btn-toggle" did="mmx.admin.api.access.control.mode">
                    <button class="btn btn-sm <% if(config['mmx.admin.api.access.control.mode'] === 'relaxed'){ %>btn-primary active<% }else{ %>btn-default<% } %>" did="relaxed" type="button">Relaxed</button>
                    <button class="btn btn-sm <% if(typeof config['mmx.admin.api.access.control.mode'] == 'undefined' || config['mmx.admin.api.access.control.mode'] === 'strict'){ %>btn-primary active<% }else{ %>btn-default<% } %>" did="strict" type="button">Strict</button>
                </div>
            </div>
            <div class="col-sm-3">
                <label>External Protocol
                    <span class="glyphicon glyphicon-info-sign" title="" data-placement="top" data-toggle="tooltip" data-title="The public protocol to be used by mobile clients for acknowledging push notifications."></span>
                </label>
                <div class="btn-group btn-toggle" did="mmx.push.callback.protocol">
                    <button class="btn btn-sm <% if(typeof config['mmx.push.callback.protocol'] == 'undefined' || config['mmx.push.callback.protocol'] === 'http'){ %>btn-primary active<% }else{ %>btn-default<% } %>" did="http" type="button">HTTP</button>
                    <button class="btn btn-sm <% if(config['mmx.push.callback.protocol'] === 'https'){ %>btn-primary active<% }else{ %>btn-default<% } %>" did="https" type="button">SSL</button>
                </div>
            </div>
        </div>
        <div class="row-fluid">
            <div class="col-sm-2">
                <label>Wakeup Frequency
                    <span class="glyphicon glyphicon-info-sign" title="" data-placement="top" data-toggle="tooltip" data-title="Frequency in seconds for sending a wakeup to a device."></span>
                </label>
                <input type="text" maxlength="10" name="mmx.wakeup.frequency" class="form-control" placeholder="Frequency in seconds" value="<%- config['mmx.wakeup.frequency'] %>" />
            </div>
            <div class="col-sm-2">
                <label>Retry Interval
                    <span class="glyphicon glyphicon-info-sign" title="" data-placement="top" data-toggle="tooltip" data-title="The time interval in minutes between consecutive message retry attempts."></span>
                </label>
                <input type="text" maxlength="10" name="mmx.retry.interval.minutes" class="form-control" placeholder="Time interval in minutes" value="<%- config['mmx.retry.interval.minutes'] %>" />
            </div>
            <div class="col-sm-2">
                <label>Retry Count
                    <span class="glyphicon glyphicon-info-sign" title="" data-placement="top" data-toggle="tooltip" data-title="The count for the number of times a message delivery will be attempted."></span>
                </label>
                <input type="text" maxlength="10" name="mmx.retry.count" class="form-control" placeholder="message retry count" value="<%- config['mmx.retry.count'] %>" />
            </div>
            <div class="col-sm-2">
                <label>Timeout Period
                    <span class="glyphicon glyphicon-info-sign" title="" data-placement="top" data-toggle="tooltip" data-title="The time period in minutes after which server will stop attempting to deliver message."></span>
                </label>
                <input type="text" maxlength="10" name="mmx.timeout.period.minutes" class="form-control" placeholder="Timeout period in minutes" value="<%- config['mmx.timeout.period.minutes'] %>" />
            </div>
            <div class="col-sm-2">
                <label>Mobile Client TLS
                    <span class="glyphicon glyphicon-info-sign" title="" data-placement="top" data-toggle="tooltip" data-title="Enables security for mobile clients."></span>
                </label>
                <div class="btn-group btn-toggle" did="xmpp.client.tls.policy">
                    <button class="btn btn-sm <% if(config['xmpp.client.tls.policy'] === 'required'){ %>btn-primary active<% }else{ %>btn-default<% } %>" did="required" type="button">Enabled</button>
                    <button class="btn btn-sm <% if(typeof config['xmpp.client.tls.policy'] == 'undefined' || config['xmpp.client.tls.policy'] === 'optional'){ %>btn-primary active<% }else{ %>btn-default<% } %>" did="optional" type="button">Disabled</button>
                </div>
            </div>
        </div>
    </div>
    <% }else{ %>
    <div class="alert alert-danger" role="alert">
        Unable to connect to Magnet Message with the Magnet Message Connectivity parameters you provided. Please change the parameters and try again.
    </div>
    <% } %>
</script>

<script id="ProfileTmpl" type="text/template">
    <div class="form-group">
        <div class="row-fluid">
            <div class="col-sm-6">
                <label class="control-label">First Name</label>
                <input type="text" class="form-control" name="firstName" value="<%-  model.firstName %>" placeholder="Enter your first name">
            </div>
            <div class="col-sm-6">
                <label class="control-label">Last Name</label>
                <input type="text" class="form-control" name="lastName" value="<%-  model.lastName %>" placeholder="Enter your last name">
            </div>
        </div>
    </div>
    <div class="form-group">
        <div class="row-fluid">
            <div class="col-sm-6">
                <label class="control-label">Email Address</label>
                <input type="text" class="form-control" name="userName" disabled="disabled" value="<%-  model.email %>" placeholder="Email Address">
            </div>
            <div class="col-sm-6">
                <label class="control-label">Company Name</label>
                <input type="text" class="form-control" name="companyName" value="<%-  model.companyName %>" placeholder="Enter your company's name">
            </div>
        </div>
    </div>
    <hr />
    <div class="password-inputs clearfix">
        <div class="form-group">
            <div class="row-fluid">
                <div class="col-sm-12">
                    <label class="control-label">Current Password</label>
                    <div class="toggling-password-input">
                        <span class="glyphicon glyphicon-eye-close hidden" title="" data-placement="top" data-toggle="tooltip" data-title="Click the eye to hide the password value."></span>
                        <span class="glyphicon glyphicon-eye-open" title="" data-placement="top" data-toggle="tooltip" data-title="Click the eye to display the password value."></span>
                        <input type="password" class="form-control toggling-password-input" name="oldpassword" placeholder="Your current password is required to change to a new password">
                    </div>
                </div>
            </div>
        </div>
        <div class="form-group">
            <div class="row-fluid">
                <div class="col-sm-6">
                    <label class="control-label">New Password</label>
                    <div class="toggling-password-input">
                        <span class="glyphicon glyphicon-eye-close hidden" title="" data-placement="top" data-toggle="tooltip" data-title="Click the eye to hide the password value."></span>
                        <span class="glyphicon glyphicon-eye-open" title="" data-placement="top" data-toggle="tooltip" data-title="Click the eye to display the password value."></span>
                        <input type="password" disabled="disabled" class="form-control toggling-password-input" name="newpassword" placeholder="Enter a new password">
                    </div>
                </div>
                <div class="col-sm-6">
                    <label class="control-label">New Password (repeat)</label>
                    <div class="toggling-password-input">
                        <span class="glyphicon glyphicon-eye-close hidden" title="" data-placement="top" data-toggle="tooltip" data-title="Click the eye to hide the password value."></span>
                        <span class="glyphicon glyphicon-eye-open" title="" data-placement="top" data-toggle="tooltip" data-title="Click the eye to display the password value."></span>
                        <input type="password" disabled="disabled" class="form-control toggling-password-input" name="newpassword2" placeholder="Re-enter the new password">
                    </div>
                </div>
            </div>
        </div>
    </div>
    <span class="alert-container"></span>
</script>

<div id="user-profile-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span class="sr-only">Close</span></button>
                <h4 class="modal-title">User Profile</h4>
            </div>
            <div class="modal-body clearfix"></div>
            <div class="modal-footer">
                <button id="user-profile-update-btn" class="btn btn-primary">Save</button>
                <button data-dismiss="modal" type="button" class="btn btn-default">Cancel</button>
            </div>
        </div>
    </div>
</div>

<div id="new-user-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span class="sr-only">Close</span></button>
                <h4 class="modal-title">Add Account</h4>
            </div>
            <div class="modal-body clearfix"></div>
            <div class="modal-footer">
                <button id="mgmt-accounts-create-btn" class="disabled btn btn-primary">Add</button>
                <button data-dismiss="modal" type="button" class="btn btn-default">Cancel</button>
            </div>
        </div>
    </div>
</div>

<div id="mgmt-sendinvite-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span class="sr-only">Close</span></button>
                <h4 class="modal-title">Send Invite</h4>
            </div>
            <div class="modal-body clearfix"></div>
            <div class="modal-footer">
                <button id="mgmt-accounts-sendinvite-btn" class="disabled btn btn-primary">Send</button>
                <button data-dismiss="modal" type="button" class="btn btn-default">Cancel</button>
            </div>
        </div>
    </div>
</div>


